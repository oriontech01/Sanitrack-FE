"use strict";(self.webpackChunksanitrack_web=self.webpackChunksanitrack_web||[]).push([[6190],{27171:(e,s,r)=>{r.d(s,{A:()=>n});var o=r(77154),a=r(65043),t=r(73216);const n=()=>{const e=(0,t.Zp)(),s="http://52.55.254.57:5000/api/",r=localStorage.getItem("auth-token"),[n,i]=(0,a.useState)([]),[l,d]=(0,a.useState)([]),[c,u]=(0,a.useState)();return{getPermissionByRole:async e=>{await o.A.get("".concat(s,"permissions/role-id?roleId=").concat(e),{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{null==e.data.data?i(e.data.message):i(e.data.data.permissions)})).catch((e=>{if(e.response){const{status:s,data:r}=e.response;400===s&&r&&r.message?(u(r.message),console.log("An error occured",r.message)):403===s&&r&&r.message?(console.log("An error with status 403 occured",r.message),u(r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},rolePermissions:n,getPermissions:async()=>{await o.A.get("".concat(s,"permissions"),{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{d(e.data.data.allPermissions)})).catch((e=>{if(e.response){const{status:s,data:r}=e.response;400===s&&r&&r.message?(u(r.message),console.log("An error occured",r.message)):403===s&&r&&r.message?(console.log("An error with status 403 occured",r.message),u(r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},allPermissions:l,addPermission:async a=>{await o.A.post("".concat(s,"permissions/add"),{permission_name:a},{headers:{Authorization:"Bearer ".concat(r)}}).then((s=>{e("/dashboard/permissions")})).catch((e=>{if(e.response){const{status:s,data:r}=e.response;400===s&&r&&r.message?u(r.message):403===s&&r&&r.message?(console.log("An error with status 403 occured",r.message),u(r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},errorResponse:c,assignPermission:async a=>{await o.A.post("".concat(s,"permissions/assign"),a,{headers:{Authorization:"Bearer ".concat(r)}}).then((s=>{e("/dashboard/permissions")})).catch((s=>{if(s.response){const{status:r,data:o}=s.response;400===r&&o&&o.message?(u(o.message),e("/dashboard/roles")):403===r&&o&&o.message?e("/"):console.log("Axios error:",s)}else console.log("Network error:",s.message)}))},revokePermission:async a=>{await o.A.post("".concat(s,"permissions/delete"),a,{headers:{Authorization:"Bearer ".concat(r)}}).then((s=>{e("/dashboard/roles")})).catch((s=>{if(s.response){const{status:r,data:o}=s.response;400===r&&o&&o.message?(u(o.message),e("/dashboard/roles")):403===r&&o&&o.message?e("/"):console.log("Axios error:",s)}else console.log("Network error:",s.message)}))}}}},36190:(e,s,r)=>{r.r(s),r.d(s,{default:()=>c});var o=r(65043),a=r(68903),t=r(85865),n=r(67784),i=r(11906),l=r(27171),d=r(70579);const c=()=>{const[e,s]=(0,o.useState)(""),{addPermission:r,errorResponse:c}=(0,l.A)();return(0,d.jsxs)(a.Ay,{container:!0,spacing:3,children:[(0,d.jsx)(a.Ay,{item:!0,xs:12,children:(0,d.jsx)(t.A,{variant:"h4",children:"Add Permission"})}),(0,d.jsx)(a.Ay,{item:!0,xs:12,children:(0,d.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),await r(e)},children:[(0,d.jsx)(n.A,{label:"Permission Name",variant:"outlined",fullWidth:!0,value:e,onChange:e=>s(e.target.value)}),(0,d.jsx)(i.A,{type:"submit",variant:"contained",color:"primary",disabled:""===e||e.length<=5,style:{marginTop:"12px"},children:"Submit"})]})}),c&&(0,d.jsx)(a.Ay,{item:!0,xs:12,children:(0,d.jsx)(t.A,{variant:"body1",style:{color:"red"},children:c})})]})}},81673:(e,s,r)=>{r.d(s,{A:()=>w});var o=r(98587),a=r(58168),t=r(65043),n=r(58387),i=r(68606),l=r(74827),d=r(85213),c=r(34535),u=r(6803),m=r(57056),p=r(32400);function h(e){return(0,p.Ay)("MuiFormHelperText",e)}const g=(0,m.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var A,f=r(72876),x=r(70579);const b=["children","className","component","disabled","error","filled","focused","margin","required","variant"],v=(0,c.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.size&&s["size".concat((0,u.A)(r.size))],r.contained&&s.contained,r.filled&&s.filled]}})((e=>{let{theme:s,ownerState:r}=e;return(0,a.A)({color:(s.vars||s).palette.text.secondary},s.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(g.disabled)]:{color:(s.vars||s).palette.text.disabled},["&.".concat(g.error)]:{color:(s.vars||s).palette.error.main}},"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),w=t.forwardRef((function(e,s){const r=(0,f.A)({props:e,name:"MuiFormHelperText"}),{children:t,className:c,component:m="p"}=r,p=(0,o.A)(r,b),g=(0,d.A)(),w=(0,l.A)({props:r,muiFormControl:g,states:["variant","size","disabled","error","filled","focused","required"]}),y=(0,a.A)({},r,{component:m,contained:"filled"===w.variant||"outlined"===w.variant,variant:w.variant,size:w.size,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required}),P=(e=>{const{classes:s,contained:r,size:o,disabled:a,error:t,filled:n,focused:l,required:d}=e,c={root:["root",a&&"disabled",t&&"error",o&&"size".concat((0,u.A)(o)),r&&"contained",l&&"focused",n&&"filled",d&&"required"]};return(0,i.A)(c,h,s)})(y);return(0,x.jsx)(v,(0,a.A)({as:m,ownerState:y,className:(0,n.A)(P.root,c),ref:s},p,{children:" "===t?A||(A=(0,x.jsx)("span",{className:"notranslate",children:"\u200b"})):t}))}))},67784:(e,s,r)=>{r.d(s,{A:()=>F});var o=r(58168),a=r(98587),t=r(65043),n=r(58387),i=r(68606),l=r(20992),d=r(34535),c=r(72876),u=r(65761),m=r(1833),p=r(69859),h=r(18356),g=r(53193),A=r(81673),f=r(11659),x=r(57056),b=r(32400);function v(e){return(0,b.Ay)("MuiTextField",e)}(0,x.A)("MuiTextField",["root"]);var w=r(70579);const y=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],P={standard:u.A,filled:m.A,outlined:p.A},R=(0,d.Ay)(g.A,{name:"MuiTextField",slot:"Root",overridesResolver:(e,s)=>s.root})({}),F=t.forwardRef((function(e,s){const r=(0,c.A)({props:e,name:"MuiTextField"}),{autoComplete:t,autoFocus:d=!1,children:u,className:m,color:p="primary",defaultValue:g,disabled:x=!1,error:b=!1,FormHelperTextProps:F,fullWidth:j=!1,helperText:z,id:k,InputLabelProps:T,inputProps:S,InputProps:N,inputRef:q,label:B,maxRows:C,minRows:M,multiline:I=!1,name:H,onBlur:W,onChange:L,onFocus:V,placeholder:_,required:D=!1,rows:Z,select:E=!1,SelectProps:G,type:J,value:K,variant:O="outlined"}=r,Q=(0,a.A)(r,y),U=(0,o.A)({},r,{autoFocus:d,color:p,disabled:x,error:b,fullWidth:j,multiline:I,required:D,select:E,variant:O}),X=(e=>{const{classes:s}=e;return(0,i.A)({root:["root"]},v,s)})(U);const Y={};"outlined"===O&&(T&&"undefined"!==typeof T.shrink&&(Y.notched=T.shrink),Y.label=B),E&&(G&&G.native||(Y.id=void 0),Y["aria-describedby"]=void 0);const $=(0,l.A)(k),ee=z&&$?"".concat($,"-helper-text"):void 0,se=B&&$?"".concat($,"-label"):void 0,re=P[O],oe=(0,w.jsx)(re,(0,o.A)({"aria-describedby":ee,autoComplete:t,autoFocus:d,defaultValue:g,fullWidth:j,multiline:I,name:H,rows:Z,maxRows:C,minRows:M,type:J,value:K,id:$,inputRef:q,onBlur:W,onChange:L,onFocus:V,placeholder:_,inputProps:S},Y,N));return(0,w.jsxs)(R,(0,o.A)({className:(0,n.A)(X.root,m),disabled:x,error:b,fullWidth:j,ref:s,required:D,color:p,variant:O,ownerState:U},Q,{children:[null!=B&&""!==B&&(0,w.jsx)(h.A,(0,o.A)({htmlFor:$,id:se},T,{children:B})),E?(0,w.jsx)(f.A,(0,o.A)({"aria-describedby":ee,id:$,labelId:se,value:K,input:oe},G,{children:u})):oe,z&&(0,w.jsx)(A.A,(0,o.A)({id:ee},F,{children:z}))]}))}))}}]);
//# sourceMappingURL=6190.3df8b911.chunk.js.map
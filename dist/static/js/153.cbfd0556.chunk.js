"use strict";(self.webpackChunksanitrack_web=self.webpackChunksanitrack_web||[]).push([[153],{10756:(e,o,r)=>{r.d(o,{A:()=>s});var t=r(65043),a=r(77154),n=r(73216);const s=()=>{const e="http://52.55.254.57:5000/api/",o=(0,n.Zp)(),r=localStorage.getItem("auth-token"),[s,c]=(0,t.useState)([]),[i,l]=(0,t.useState)([]),[d,u]=(0,t.useState)([]),[h,m]=(0,t.useState)("");return{getRoles:async()=>{await a.A.get("".concat(e,"/roles/"),{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{c(e.data.data.allRole)})).catch((e=>{if(e.response){const{status:o,data:r}=e.response;400===o&&r&&r.message?(m(r.message),console.log("An error occured",r.message)):403===o&&r&&r.message?(console.log("An error with status 403 occured",r.message),m(r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},roles:s,getStaffRoles:async o=>{await a.A.get("".concat(e,"user-role/?userId=").concat(o),{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{console.log("response is",JSON.stringify(e.data.data.userRole,null,2)),l(e.data.data.userRole)})).catch((e=>{if(e.response){const{status:o,data:r}=e.response;400===o&&r&&r.message?(m(r.message),console.log("An error occurred",r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},staffRoles:i,assignUserRole:async t=>{await a.A.post("".concat(e,"roles/assign"),t,{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{o("/home/role")})).catch((e=>{if(e.response){const{status:r,data:t}=e.response;400===r&&t&&t.message?(m(t.message),o("/home/role")):403===r&&t&&t.message?o("/"):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},addRole:async t=>{await a.A.post("".concat(e,"/roles/add"),{role_name:t},{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{o("/home/role")})).catch((e=>{if(e.response){const{status:o,data:r}=e.response;400===o&&r&&r.message?(m(r.message),console.log("An error occured",r.message)):403===o&&r&&r.message?(console.log("An error with status 403 occured",r.message),m(r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},deleteRole:async o=>{await a.A.delete("".concat(e,"roles/delete?roleId=").concat(o),{headers:{Authorization:"Bearer ".concat(r)}}).catch((e=>{if(e.response){const{status:o,data:r}=e.response;400===o&&r&&r.message?(m(r.message),console.log("An error occured",r.message)):403===o&&r&&r.message?(console.log("An error with status 403 occured",r.message),m(r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},getRoleForStaff:async()=>{await a.A.get("".concat(e,"roles/staff"),{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{u(e.data.data.userRoles)})).catch((e=>{if(e.response){const{status:o,data:r}=e.response;400===o&&r&&r.message?(m(r.message),console.log("An error occurred",r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},roleForStaff:d,revokeUserRole:async t=>{await a.A.post("".concat(e,"user-role/delete"),t,{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{o("/home/role/staff")})).catch((e=>{if(e.response){const{status:o,data:r}=e.response;400===o&&r&&r.message?(m(r.message),console.log("An error occured",r.message)):403===o&&r&&r.message?(console.log("An error with status 403 occured",r.message),m(r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))}}}},30153:(e,o,r)=>{r.r(o),r.d(o,{default:()=>A});var t=r(73216),a=r(10756),n=r(65043),s=r(85865),c=r(71806),i=r(84882),l=r(28076),d=r(10039),u=r(73460),h=r(51962),m=r(11906),p=r(81637),g=r(70579);const A=()=>{const{staffId:e}=(0,t.g)(),{staffRoles:o,getStaffRoles:r,revokeUserRole:A}=(0,a.A)(),[f,v]=(0,n.useState)([]);(0,n.useEffect)((()=>{(async()=>{await r(e)})()}),[]),(0,n.useEffect)((()=>{if(o&&o.length>0){const e=o.map((e=>e.role_id));v(e)}}),[]);return(0,g.jsxs)("div",{className:"add-user-container",children:[(0,g.jsx)("div",{className:"add-user-header",children:(0,g.jsx)(s.A,{variant:"h2",children:"Revoke Role"})}),o?(0,g.jsxs)("form",{children:[(0,g.jsx)("div",{className:"table-section",children:(0,g.jsxs)(c.A,{children:[(0,g.jsx)(i.A,{children:(0,g.jsx)(l.A,{children:(0,g.jsx)(d.A,{children:"Role Name"})})}),(0,g.jsx)(u.A,{children:o.map((e=>(0,g.jsx)(l.A,{children:(0,g.jsxs)(d.A,{children:[(0,g.jsx)(h.A,{checked:f.includes(e.role_id),onChange:()=>{return o=e.role_id,void(f.includes(o)?v((e=>e.filter((e=>e!==o)))):v((e=>[...e,o])));var o}}),e.role_name]})},e._id)))})]})}),(0,g.jsx)(m.A,{variant:"contained",color:"secondary",onClick:async()=>{const o={userId:e,roleIds:f};await A(o)},style:{marginTop:"12px"},children:"Revoke Role"})]}):(0,g.jsx)(p.A,{})]})}},51962:(e,o,r)=>{r.d(o,{A:()=>C});var t=r(98587),a=r(58168),n=r(65043),s=r(58387),c=r(68606),i=r(53650),l=r(33064),d=r(59662),u=r(70579);const h=(0,d.A)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),m=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var g=r(6803),A=r(72876),f=r(34535),v=r(57056),x=r(32400);function k(e){return(0,x.Ay)("MuiCheckbox",e)}const S=(0,v.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),w=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],y=(0,f.Ay)(l.A,{shouldForwardProp:e=>(0,f.ep)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,r.indeterminate&&o.indeterminate,o["size".concat((0,g.A)(r.size))],"default"!==r.color&&o["color".concat((0,g.A)(r.color))]]}})((e=>{let{theme:o,ownerState:r}=e;return(0,a.A)({color:(o.vars||o).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:o.vars?"rgba(".concat("default"===r.color?o.vars.palette.action.activeChannel:o.vars.palette[r.color].mainChannel," / ").concat(o.vars.palette.action.hoverOpacity,")"):(0,i.X4)("default"===r.color?o.palette.action.active:o.palette[r.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&{["&.".concat(S.checked,", &.").concat(S.indeterminate)]:{color:(o.vars||o).palette[r.color].main},["&.".concat(S.disabled)]:{color:(o.vars||o).palette.action.disabled}})})),b=(0,u.jsx)(m,{}),R=(0,u.jsx)(h,{}),z=(0,u.jsx)(p,{}),C=n.forwardRef((function(e,o){var r,i;const l=(0,A.A)({props:e,name:"MuiCheckbox"}),{checkedIcon:d=b,color:h="primary",icon:m=R,indeterminate:p=!1,indeterminateIcon:f=z,inputProps:v,size:x="medium",className:S}=l,C=(0,t.A)(l,w),N=p?f:m,j=p?f:d,B=(0,a.A)({},l,{color:h,indeterminate:p,size:x}),I=(e=>{const{classes:o,indeterminate:r,color:t,size:n}=e,s={root:["root",r&&"indeterminate","color".concat((0,g.A)(t)),"size".concat((0,g.A)(n))]},i=(0,c.A)(s,k,o);return(0,a.A)({},o,i)})(B);return(0,u.jsx)(y,(0,a.A)({type:"checkbox",inputProps:(0,a.A)({"data-indeterminate":p},v),icon:n.cloneElement(N,{fontSize:null!=(r=N.props.fontSize)?r:x}),checkedIcon:n.cloneElement(j,{fontSize:null!=(i=j.props.fontSize)?i:x}),ownerState:B,ref:o,className:(0,s.A)(I.root,S)},C,{classes:I}))}))},81637:(e,o,r)=>{r.d(o,{A:()=>M});var t=r(57528),a=r(98587),n=r(58168),s=r(65043),c=r(58387),i=r(68606),l=r(83290),d=r(6803),u=r(72876),h=r(34535),m=r(57056),p=r(32400);function g(e){return(0,p.Ay)("MuiCircularProgress",e)}(0,m.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var A,f,v,x,k=r(70579);const S=["className","color","disableShrink","size","style","thickness","value","variant"];let w,y,b,R;const z=44,C=(0,l.i7)(w||(w=A||(A=(0,t.A)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),N=(0,l.i7)(y||(y=f||(f=(0,t.A)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),j=(0,h.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[r.variant],o["color".concat((0,d.A)(r.color))]]}})((e=>{let{ownerState:o,theme:r}=e;return(0,n.A)({display:"inline-block"},"determinate"===o.variant&&{transition:r.transitions.create("transform")},"inherit"!==o.color&&{color:(r.vars||r).palette[o.color].main})}),(e=>{let{ownerState:o}=e;return"indeterminate"===o.variant&&(0,l.AH)(b||(b=v||(v=(0,t.A)(["\n      animation: "," 1.4s linear infinite;\n    "]))),C)})),B=(0,h.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,o)=>o.svg})({display:"block"}),I=(0,h.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.circle,o["circle".concat((0,d.A)(r.variant))],r.disableShrink&&o.circleDisableShrink]}})((e=>{let{ownerState:o,theme:r}=e;return(0,n.A)({stroke:"currentColor"},"determinate"===o.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===o.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:o}=e;return"indeterminate"===o.variant&&!o.disableShrink&&(0,l.AH)(R||(R=x||(x=(0,t.A)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),N)})),M=s.forwardRef((function(e,o){const r=(0,u.A)({props:e,name:"MuiCircularProgress"}),{className:t,color:s="primary",disableShrink:l=!1,size:h=40,style:m,thickness:p=3.6,value:A=0,variant:f="indeterminate"}=r,v=(0,a.A)(r,S),x=(0,n.A)({},r,{color:s,disableShrink:l,size:h,thickness:p,value:A,variant:f}),w=(e=>{const{classes:o,variant:r,color:t,disableShrink:a}=e,n={root:["root",r,"color".concat((0,d.A)(t))],svg:["svg"],circle:["circle","circle".concat((0,d.A)(r)),a&&"circleDisableShrink"]};return(0,i.A)(n,g,o)})(x),y={},b={},R={};if("determinate"===f){const e=2*Math.PI*((z-p)/2);y.strokeDasharray=e.toFixed(3),R["aria-valuenow"]=Math.round(A),y.strokeDashoffset="".concat(((100-A)/100*e).toFixed(3),"px"),b.transform="rotate(-90deg)"}return(0,k.jsx)(j,(0,n.A)({className:(0,c.A)(w.root,t),style:(0,n.A)({width:h,height:h},b,m),ownerState:x,ref:o,role:"progressbar"},R,v,{children:(0,k.jsx)(B,{className:w.svg,ownerState:x,viewBox:"".concat(22," ").concat(22," ").concat(z," ").concat(z),children:(0,k.jsx)(I,{className:w.circle,style:y,ownerState:x,cx:z,cy:z,r:(z-p)/2,fill:"none",strokeWidth:p})})}))}))},41053:(e,o,r)=>{r.d(o,{A:()=>t});const t=r(65043).createContext(void 0)},85213:(e,o,r)=>{r.d(o,{A:()=>n});var t=r(65043),a=r(41053);function n(){return t.useContext(a.A)}},84882:(e,o,r)=>{r.d(o,{A:()=>x});var t=r(58168),a=r(98587),n=r(65043),s=r(58387),c=r(68606),i=r(21573),l=r(72876),d=r(34535),u=r(57056),h=r(32400);function m(e){return(0,h.Ay)("MuiTableHead",e)}(0,u.A)("MuiTableHead",["root"]);var p=r(70579);const g=["className","component"],A=(0,d.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,o)=>o.root})({display:"table-header-group"}),f={variant:"head"},v="thead",x=n.forwardRef((function(e,o){const r=(0,l.A)({props:e,name:"MuiTableHead"}),{className:n,component:d=v}=r,u=(0,a.A)(r,g),h=(0,t.A)({},r,{component:d}),x=(e=>{const{classes:o}=e;return(0,c.A)({root:["root"]},m,o)})(h);return(0,p.jsx)(i.A.Provider,{value:f,children:(0,p.jsx)(A,(0,t.A)({as:d,className:(0,s.A)(x.root,n),ref:o,role:d===v?null:"rowgroup",ownerState:h},u))})}))},33064:(e,o,r)=>{r.d(o,{A:()=>k});var t=r(98587),a=r(58168),n=r(65043),s=r(58387),c=r(68606),i=r(6803),l=r(34535),d=r(75242),u=r(85213),h=r(66236),m=r(57056),p=r(32400);function g(e){return(0,p.Ay)("PrivateSwitchBase",e)}(0,m.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var A=r(70579);const f=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],v=(0,l.Ay)(h.A)((e=>{let{ownerState:o}=e;return(0,a.A)({padding:9,borderRadius:"50%"},"start"===o.edge&&{marginLeft:"small"===o.size?-3:-12},"end"===o.edge&&{marginRight:"small"===o.size?-3:-12})})),x=(0,l.Ay)("input",{shouldForwardProp:l.ep})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),k=n.forwardRef((function(e,o){const{autoFocus:r,checked:n,checkedIcon:l,className:h,defaultChecked:m,disabled:p,disableFocusRipple:k=!1,edge:S=!1,icon:w,id:y,inputProps:b,inputRef:R,name:z,onBlur:C,onChange:N,onFocus:j,readOnly:B,required:I=!1,tabIndex:M,type:P,value:F}=e,H=(0,t.A)(e,f),[D,E]=(0,d.A)({controlled:n,default:Boolean(m),name:"SwitchBase",state:"checked"}),T=(0,u.A)();let V=p;T&&"undefined"===typeof V&&(V=T.disabled);const _="checkbox"===P||"radio"===P,O=(0,a.A)({},e,{checked:D,disabled:V,disableFocusRipple:k,edge:S}),L=(e=>{const{classes:o,checked:r,disabled:t,edge:a}=e,n={root:["root",r&&"checked",t&&"disabled",a&&"edge".concat((0,i.A)(a))],input:["input"]};return(0,c.A)(n,g,o)})(O);return(0,A.jsxs)(v,(0,a.A)({component:"span",className:(0,s.A)(L.root,h),centerRipple:!0,focusRipple:!k,disabled:V,tabIndex:null,role:void 0,onFocus:e=>{j&&j(e),T&&T.onFocus&&T.onFocus(e)},onBlur:e=>{C&&C(e),T&&T.onBlur&&T.onBlur(e)},ownerState:O,ref:o},H,{children:[(0,A.jsx)(x,(0,a.A)({autoFocus:r,checked:n,defaultChecked:m,className:L.input,disabled:V,id:_?y:void 0,name:z,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const o=e.target.checked;E(o),N&&N(e,o)},readOnly:B,ref:R,required:I,ownerState:O,tabIndex:M,type:P},"checkbox"===P&&void 0===F?{}:{value:F},b)),D?l:w]}))}))},59662:(e,o,r)=>{r.d(o,{A:()=>x});var t=r(58168),a=r(65043),n=r(98587),s=r(58387),c=r(68606),i=r(6803),l=r(72876),d=r(34535),u=r(57056),h=r(32400);function m(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,u.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=r(70579);const g=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],A=(0,d.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,"inherit"!==r.color&&o["color".concat((0,i.A)(r.color))],o["fontSize".concat((0,i.A)(r.fontSize))]]}})((e=>{let{theme:o,ownerState:r}=e;var t,a,n,s,c,i,l,d,u,h,m,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:r.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(t=o.transitions)||null==(a=t.create)?void 0:a.call(t,"fill",{duration:null==(n=o.transitions)||null==(n=n.duration)?void 0:n.shorter}),fontSize:{inherit:"inherit",small:(null==(s=o.typography)||null==(c=s.pxToRem)?void 0:c.call(s,20))||"1.25rem",medium:(null==(i=o.typography)||null==(l=i.pxToRem)?void 0:l.call(i,24))||"1.5rem",large:(null==(d=o.typography)||null==(u=d.pxToRem)?void 0:u.call(d,35))||"2.1875rem"}[r.fontSize],color:null!=(h=null==(m=(o.vars||o).palette)||null==(m=m[r.color])?void 0:m.main)?h:{action:null==(p=(o.vars||o).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(g=(o.vars||o).palette)||null==(g=g.action)?void 0:g.disabled,inherit:void 0}[r.color]}})),f=a.forwardRef((function(e,o){const r=(0,l.A)({props:e,name:"MuiSvgIcon"}),{children:d,className:u,color:h="inherit",component:f="svg",fontSize:v="medium",htmlColor:x,inheritViewBox:k=!1,titleAccess:S,viewBox:w="0 0 24 24"}=r,y=(0,n.A)(r,g),b=a.isValidElement(d)&&"svg"===d.type,R=(0,t.A)({},r,{color:h,component:f,fontSize:v,instanceFontSize:e.fontSize,inheritViewBox:k,viewBox:w,hasSvgAsChild:b}),z={};k||(z.viewBox=w);const C=(e=>{const{color:o,fontSize:r,classes:t}=e,a={root:["root","inherit"!==o&&"color".concat((0,i.A)(o)),"fontSize".concat((0,i.A)(r))]};return(0,c.A)(a,m,t)})(R);return(0,p.jsxs)(A,(0,t.A)({as:f,className:(0,s.A)(C.root,u),focusable:"false",color:x,"aria-hidden":!S||void 0,role:S?"img":void 0,ref:o},z,y,b&&d.props,{ownerState:R,children:[b?d.props.children:d,S?(0,p.jsx)("title",{children:S}):null]}))}));f.muiName="SvgIcon";const v=f;function x(e,o){function r(r,a){return(0,p.jsx)(v,(0,t.A)({"data-testid":"".concat(o,"Icon"),ref:a},r,{children:e}))}return r.muiName=v.muiName,a.memo(a.forwardRef(r))}},75242:(e,o,r)=>{r.d(o,{A:()=>a});var t=r(65043);const a=function(e){let{controlled:o,default:r,name:a,state:n="value"}=e;const{current:s}=t.useRef(void 0!==o),[c,i]=t.useState(r);return[s?o:c,t.useCallback((e=>{s||i(e)}),[])]}}}]);
//# sourceMappingURL=153.cbfd0556.chunk.js.map
"use strict";(self.webpackChunksanitrack_web=self.webpackChunksanitrack_web||[]).push([[6203],{10756:(e,o,r)=>{r.d(o,{A:()=>l});var s=r(65043),a=r(77154),t=r(73216);const l=()=>{const e="http://52.55.254.57:5000/api/",o=(0,t.Zp)(),r=localStorage.getItem("auth-token"),[l,n]=(0,s.useState)([]),[i,c]=(0,s.useState)([]),[d,u]=(0,s.useState)([]),[m,g]=(0,s.useState)("");return{getRoles:async()=>{await a.A.get("".concat(e,"/roles/"),{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{n(e.data.data.allRole)})).catch((e=>{if(e.response){const{status:o,data:r}=e.response;400===o&&r&&r.message?(g(r.message),console.log("An error occured",r.message)):403===o&&r&&r.message?(console.log("An error with status 403 occured",r.message),g(r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},roles:l,getStaffRoles:async o=>{await a.A.get("".concat(e,"user-role/?userId=").concat(o),{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{console.log("response is",JSON.stringify(e.data.data.userRole,null,2)),c(e.data.data.userRole)})).catch((e=>{if(e.response){const{status:o,data:r}=e.response;400===o&&r&&r.message?(g(r.message),console.log("An error occurred",r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},staffRoles:i,assignUserRole:async s=>{await a.A.post("".concat(e,"roles/assign"),s,{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{o("/home/role")})).catch((e=>{if(e.response){const{status:r,data:s}=e.response;400===r&&s&&s.message?(g(s.message),o("/home/role")):403===r&&s&&s.message?o("/"):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},addRole:async s=>{await a.A.post("".concat(e,"/roles/add"),{role_name:s},{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{o("/home/role")})).catch((e=>{if(e.response){const{status:o,data:r}=e.response;400===o&&r&&r.message?(g(r.message),console.log("An error occured",r.message)):403===o&&r&&r.message?(console.log("An error with status 403 occured",r.message),g(r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},deleteRole:async o=>{await a.A.delete("".concat(e,"roles/delete?roleId=").concat(o),{headers:{Authorization:"Bearer ".concat(r)}}).catch((e=>{if(e.response){const{status:o,data:r}=e.response;400===o&&r&&r.message?(g(r.message),console.log("An error occured",r.message)):403===o&&r&&r.message?(console.log("An error with status 403 occured",r.message),g(r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},getRoleForStaff:async()=>{await a.A.get("".concat(e,"roles/staff"),{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{u(e.data.data.userRoles)})).catch((e=>{if(e.response){const{status:o,data:r}=e.response;400===o&&r&&r.message?(g(r.message),console.log("An error occurred",r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))},roleForStaff:d,revokeUserRole:async s=>{await a.A.post("".concat(e,"user-role/delete"),s,{headers:{Authorization:"Bearer ".concat(r)}}).then((e=>{o("/home/role/staff")})).catch((e=>{if(e.response){const{status:o,data:r}=e.response;400===o&&r&&r.message?(g(r.message),console.log("An error occured",r.message)):403===o&&r&&r.message?(console.log("An error with status 403 occured",r.message),g(r.message)):console.log("Axios error:",e)}else console.log("Network error:",e.message)}))}}}},26203:(e,o,r)=>{r.r(o),r.d(o,{default:()=>d});var s=r(65043),a=r(68903),t=r(85865),l=r(67784),n=r(11906),i=r(10756),c=r(70579);const d=()=>{const[e,o]=(0,s.useState)(""),{addRole:r}=(0,i.A)();return(0,c.jsxs)(a.Ay,{container:!0,spacing:3,children:[(0,c.jsx)(a.Ay,{item:!0,xs:12,children:(0,c.jsx)(t.A,{variant:"h2",children:"Add Role"})}),(0,c.jsx)(a.Ay,{item:!0,xs:12,children:(0,c.jsxs)("form",{onSubmit:async o=>{o.preventDefault(),await r(e)},children:[(0,c.jsx)(l.A,{label:"Role Name",variant:"outlined",fullWidth:!0,value:e,onChange:e=>o(e.target.value)}),(0,c.jsx)(n.A,{type:"submit",variant:"contained",color:"primary",disabled:""===e||e.length<=2,style:{marginTop:"12px"},children:"Submit"})]})})]})}},81673:(e,o,r)=>{r.d(o,{A:()=>b});var s=r(98587),a=r(58168),t=r(65043),l=r(58387),n=r(68606),i=r(74827),c=r(85213),d=r(34535),u=r(6803),m=r(57056),g=r(32400);function p(e){return(0,g.Ay)("MuiFormHelperText",e)}const h=(0,m.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var A,f=r(72876),x=r(70579);const v=["children","className","component","disabled","error","filled","focused","margin","required","variant"],w=(0,d.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,r.size&&o["size".concat((0,u.A)(r.size))],r.contained&&o.contained,r.filled&&o.filled]}})((e=>{let{theme:o,ownerState:r}=e;return(0,a.A)({color:(o.vars||o).palette.text.secondary},o.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(h.disabled)]:{color:(o.vars||o).palette.text.disabled},["&.".concat(h.error)]:{color:(o.vars||o).palette.error.main}},"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),b=t.forwardRef((function(e,o){const r=(0,f.A)({props:e,name:"MuiFormHelperText"}),{children:t,className:d,component:m="p"}=r,g=(0,s.A)(r,v),h=(0,c.A)(),b=(0,i.A)({props:r,muiFormControl:h,states:["variant","size","disabled","error","filled","focused","required"]}),R=(0,a.A)({},r,{component:m,contained:"filled"===b.variant||"outlined"===b.variant,variant:b.variant,size:b.size,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required}),y=(e=>{const{classes:o,contained:r,size:s,disabled:a,error:t,filled:l,focused:i,required:c}=e,d={root:["root",a&&"disabled",t&&"error",s&&"size".concat((0,u.A)(s)),r&&"contained",i&&"focused",l&&"filled",c&&"required"]};return(0,n.A)(d,p,o)})(R);return(0,x.jsx)(w,(0,a.A)({as:m,ownerState:R,className:(0,l.A)(y.root,d),ref:o},g,{children:" "===t?A||(A=(0,x.jsx)("span",{className:"notranslate",children:"\u200b"})):t}))}))},67784:(e,o,r)=>{r.d(o,{A:()=>S});var s=r(58168),a=r(98587),t=r(65043),l=r(58387),n=r(68606),i=r(20992),c=r(34535),d=r(72876),u=r(65761),m=r(1833),g=r(69859),p=r(18356),h=r(53193),A=r(81673),f=r(11659),x=r(57056),v=r(32400);function w(e){return(0,v.Ay)("MuiTextField",e)}(0,x.A)("MuiTextField",["root"]);var b=r(70579);const R=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],y={standard:u.A,filled:m.A,outlined:g.A},F=(0,c.Ay)(h.A,{name:"MuiTextField",slot:"Root",overridesResolver:(e,o)=>o.root})({}),S=t.forwardRef((function(e,o){const r=(0,d.A)({props:e,name:"MuiTextField"}),{autoComplete:t,autoFocus:c=!1,children:u,className:m,color:g="primary",defaultValue:h,disabled:x=!1,error:v=!1,FormHelperTextProps:S,fullWidth:z=!1,helperText:k,id:N,InputLabelProps:T,inputProps:j,InputProps:q,inputRef:B,label:P,maxRows:C,minRows:M,multiline:I=!1,name:H,onBlur:W,onChange:L,onFocus:V,placeholder:_,required:U=!1,rows:D,select:J=!1,SelectProps:O,type:Z,value:E,variant:G="outlined"}=r,K=(0,a.A)(r,R),Q=(0,s.A)({},r,{autoFocus:c,color:g,disabled:x,error:v,fullWidth:z,multiline:I,required:U,select:J,variant:G}),X=(e=>{const{classes:o}=e;return(0,n.A)({root:["root"]},w,o)})(Q);const Y={};"outlined"===G&&(T&&"undefined"!==typeof T.shrink&&(Y.notched=T.shrink),Y.label=P),J&&(O&&O.native||(Y.id=void 0),Y["aria-describedby"]=void 0);const $=(0,i.A)(N),ee=k&&$?"".concat($,"-helper-text"):void 0,oe=P&&$?"".concat($,"-label"):void 0,re=y[G],se=(0,b.jsx)(re,(0,s.A)({"aria-describedby":ee,autoComplete:t,autoFocus:c,defaultValue:h,fullWidth:z,multiline:I,name:H,rows:D,maxRows:C,minRows:M,type:Z,value:E,id:$,inputRef:B,onBlur:W,onChange:L,onFocus:V,placeholder:_,inputProps:j},Y,q));return(0,b.jsxs)(F,(0,s.A)({className:(0,l.A)(X.root,m),disabled:x,error:v,fullWidth:z,ref:o,required:U,color:g,variant:G,ownerState:Q},K,{children:[null!=P&&""!==P&&(0,b.jsx)(p.A,(0,s.A)({htmlFor:$,id:oe},T,{children:P})),J?(0,b.jsx)(f.A,(0,s.A)({"aria-describedby":ee,id:$,labelId:oe,value:E,input:se},O,{children:u})):se,k&&(0,b.jsx)(A.A,(0,s.A)({id:ee},S,{children:k}))]}))}))}}]);
//# sourceMappingURL=6203.4fe11b37.chunk.js.map